<?php namespace ZN\EncodingSupport\MultiLanguage;
/**
 * ZN PHP Web Framework
 * 
 * "Simplicity is the ultimate sophistication." ~ Da Vinci
 * 
 * @package ZN
 * @license MIT [http://opensource.org/licenses/MIT]
 * @author  Ozan UYKUN [ozan@znframework.com]
 */

use CLController;
use ZN\FileSystem\Folder;
use ZN\IndividualStructures\Lang;

class MLExtends extends CLController
{
    const config = 'EncodingSupport:ml';

    //--------------------------------------------------------------------------------------------------------
    // $appdir
    //--------------------------------------------------------------------------------------------------------
    //
    // @var string: NULL
    //
    //--------------------------------------------------------------------------------------------------------
    protected $appdir;

    //--------------------------------------------------------------------------------------------------------
    // $externalAppdir
    //--------------------------------------------------------------------------------------------------------
    //
    // @var string: NULL
    //
    //--------------------------------------------------------------------------------------------------------
    protected $externalAppdir;

    //--------------------------------------------------------------------------------------------------------
    // $extension
    //--------------------------------------------------------------------------------------------------------
    //
    // @var string: .ml
    //
    //--------------------------------------------------------------------------------------------------------
    protected $extension = '.ml';

    //--------------------------------------------------------------------------------------------------------
    // $lang
    //--------------------------------------------------------------------------------------------------------
    //
    // @var string:
    //
    //--------------------------------------------------------------------------------------------------------
    protected $lang;

    //--------------------------------------------------------------------------------------------------------
    // $externalLang
    //--------------------------------------------------------------------------------------------------------
    //
    // @var string:
    //
    //--------------------------------------------------------------------------------------------------------
    protected $externalLang;

    //--------------------------------------------------------------------------------------------------------
    // Constructor
    //--------------------------------------------------------------------------------------------------------
    //
    // __construct()
    //
    //--------------------------------------------------------------------------------------------------------
    public function __construct()
    {
        parent::__construct();

        $mlDir = 'ML/';

        $this->appdir = LANGUAGES_DIR . $mlDir;
        $this->externalAppdir = EXTERNAL_LANGUAGES_DIR . $mlDir;

        if( ! is_dir($this->appdir) )
        {
            mkdir($this->appdir, 0755);
        }

        $getLang = Lang::get();

        $this->lang = $this->appdir.$getLang.$this->extension;
        $this->externalLang = $this->externalAppdir.$getLang.$this->extension;
    }

    //--------------------------------------------------------------------------------------------------------
    // Protected Lang File
    //--------------------------------------------------------------------------------------------------------
    //
    // @param array  $rows
    //
    //--------------------------------------------------------------------------------------------------------
    protected function _langFile($app)
    {
        return $this->appdir.$app.$this->extension;
    }
}
